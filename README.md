# SLSD Contracts

## General Information

This repository was initially forked from vesta finance (link) and was changed in order to be deployable on Ethereum Mainnet. It deploys all contracts for the SLSD ecosystem and sets them up.

## Changes

The main changes from the fork were done such that the contracts are deployable on mainnet. Vesta Finance deployed the contracts on Arbitrum which does not have a max byte size limit for contracts. Therefore, the TroveManager.sol was over 25kb of size and needed to be split up into TroveManager.sol and TroveManagerHelpers.sol.

In Addition, the repository was cleaned up such that it can only be deployed to Ethereum mainnet and the Goerli testnet. Many scripts, tests, helpers etc. were removed.

## Getting Started

### Requirements

A working Node.js >=16.0 installation

Otherwise, you need to install Node Version Manager (nvm) https://github.com/nvm-sh/nvm

```
curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/v0.39.1/install.sh | bash
nvm install 18
nvm use 18
nvm alias default 18
npm install npm --global # Upgrade npm to the latest version
```

### Build

To build the project

First clone the repository locally

```
git clone https://github.com/defifranc/slsd.git
```

Switch to the repository directory

```
cd slsd
```

Install the dependencies

```
npm i
```

Once all the packages are installed, just run this command to compile the contracts and build the artifacts:

```
npx hardhat compile
```

### Test

Prior to running the tests you need to make sure the required packages are installed (`npm i`). Also, create a `secrets.js` file in the project's root folder from the template `secrets.js.template` and add your `INFURA_API_KEY`.

To run all the tests on a local mainnet fork (default network is `hardhat`):

```
npx hardhat test
```

or for a specific test e.g `BorrowerOperationsTest`

```
npx hardhat test test/core/BorrowerOperationsTest.js
```

or for a specific test and specific network e.g `BorrowerOperationsTest` and network hardhat

```
npx hardhat test test/core/BorrowerOperationsTest.js -- network hardhat
```

### Deploy

Prior to running the deploy scripts you need to make sure the required packages are installed (`npm i`).

Then, proceed along the following steps to deploy the entire protocol:

1. Create a `secrets.js` file in the project's root folder from the template `secrets.js.template`. Add the `INFURA_API_KEY`, the `DEPLOYER_PRIVATEKEY` and the `ETHERSCAN_API_KEY` for mainnet deployment (or the Goerli parameters for testnet deployment).
2. Update the addresses on lines 16-18 in `deployment/deploymentParams/deploymentParams.mainnet.js` (or the goerli file for testnet deployment) to reflect your specific setting. The Deployer address needs to reflect the private key set in the `secrets.js` file. Verify the oracle addresses on lines 5-18 and parameter `GAS_PRICE` (if `GAS_PRICE` is too low you risk your deploy transactions getting stuck).
3. You can choose to either deploy only the PSY contracts (see `PSY` folder) or the entire protocol. Set the parameter `PSY_TOKEN_ONLY` to handle this
4. Run `npx hardhat run deployment/deploymentScripts/mainnetDeployment.js --network mainnet` (or the Goerli references for testnet deployment), to deploy the contracts.
5. You can check and verify the contracts by checking the output file in `deployment/output/mainnetDeploymentOutput.json`.

## Deployed Contracts

- PSYToken: 0x1EA48B9965bb5086F3b468E50ED93888a661fc17
- gasPool: 0xC9A113C35f961af3526E6F016F6DF9DA0A4c7BfA
- sortedTroves: 0x1Dd69453a685C735f2ab43E2169b57e9Edf72286
- troveManager: 0x99838142189adE67c1951f9c57c3333281334F7F
- troveManagerHelpers: 0xaAACB8C39Bd5Acbb0A236112Df8d15411161e518
- activePool: 0x77E034c8A1392d99a2C776A6C1593866fEE36a33
- stabilityPoolManager: 0x202FbFF035188f9f0525E144C8B3F8249a74aD21
- defaultPool: 0xC1f785B74a01dd9FAc0dE6070bC583fe9eaC7Ab5
- collSurplusPool: 0xA622c3bdBFBE749B1984bc127bFB500e196F594b
- borrowerOperations: 0x9eB2Ce1be2DD6947e4f5Aabe33106f48861DFD74
- hintHelpers: 0x17244338034Bea1fA940779Bc769Ff01833406c4
- dfrancParameters: 0x6F9990B242873d7396511f2630412A3fcEcacc42
- priceFeed: 0x09AB3C0ce6Cb41C13343879A667a6bDAd65ee9DA
- adminContract: 0x2748C55219DCa1D9D3c3a57505e99BB04e42F254
- SLSDToken: 0x045da4bFe02B320f4403674B3b7d121737727A36
- PSYStaking: 0x8Bc3702c35D33E5DF7cb0F06cb72a0c34Ae0C56F
- communityIssuance: 0x0fa46e8cBCEff8468DB2Ec2fD77731D8a11d3D86
- StabilityPoolETH: 0x6a9f9d6F5D672a9784c5E560a9648de6cbe2c548
- StabilityPoolBTC: 0x04556d845f12Ff7D8Ff04a37F40387Dd1B454c4b
- multiTroveGetter: 0xD4EcC372E99daBDbc0faBE02d2515a24388fACcA

## Important Notes

The contract PSYParameters.sol contains all the parameters from the system and should not be modified. However, the system is set to block redemptions in it's first 14 days. For testing purposes, it's recommended to change it for a lower value. You can find it on the line 15.

-> Call Diagram

![Scheme](SLSDv1.svg)

Contracts Description Table

|           Contract           |                        Type                         |                                                   Bases                                                   |                |                                                           |
| :--------------------------: | :-------------------------------------------------: | :-------------------------------------------------------------------------------------------------------: | :------------: | :-------------------------------------------------------: |
|              ‚îî               |                  **Function Name**                  |                                              **Visibility**                                               | **Mutability** |                       **Modifiers**                       |
|                              |                                                     |                                                                                                           |                |                                                           |
|      **AdminContract**       |                   Implementation                    |                                                ProxyAdmin                                                 |                |                                                           |
|              ‚îî               |                    setAddresses                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                         onlyOwner                         |
|              ‚îî               |                  addNewCollateral                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                         onlyOwner                         |
|                              |                                                     |                                                                                                           |                |                                                           |
|     **CollSurplusPool**      |                   Implementation                    |                            OwnableUpgradeable, CheckContract, ICollSurplusPool                            |                |                                                           |
|              ‚îî               |                    setAddresses                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                        initializer                        |
|              ‚îî               |                   getAssetBalance                   |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    getCollateral                    |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   accountSurplus                    |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      claimColl                      |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    receivedERC20                    |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |         \_requireCallerIsBorrowerOperations         |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |            \_requireCallerIsTroveManager            |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |             \_requireCallerIsActivePool             |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                   <Receive Ether>                   |                                               External ‚ùóÔ∏è                                                |       üíµ       |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|    **BorrowerOperations**    |                   Implementation                    |                              PSYBase, CheckContract, IBorrowerOperations                               |                |                                                           |
|              ‚îî               |                    setAddresses                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                        initializer                        |
|              ‚îî               |                      openTrove                      |                                               External ‚ùóÔ∏è                                                |       üíµ       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       addColl                       |                                               External ‚ùóÔ∏è                                                |       üíµ       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 moveETHGainToTrove                  |                                               External ‚ùóÔ∏è                                                |       üíµ       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    withdrawColl                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    withdrawSLSD                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      repaySLSD                      |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     adjustTrove                     |                                               External ‚ùóÔ∏è                                                |       üíµ       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    \_adjustTrove                    |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                     closeTrove                      |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   claimCollateral                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                \_triggerBorrowingFee                |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                    \_getUSDValue                    |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                   \_getCollChange                   |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |             \_updateTroveFromAdjustment             |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |          \_moveTokensAndETHfromAdjustment           |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                 \_activePoolAddColl                 |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                   \_withdrawSLSD                    |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                     \_repaySLSD                     |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |             \_requireSingularCollChange             |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |              \_requireCallerIsBorrower              |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |             \_requireNonZeroAdjustment              |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |               \_requireTroveisActive                |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |              \_requireTroveisNotActive              |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |             \_requireNonZeroDebtChange              |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |             \_requireNotInRecoveryMode              |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |              \_requireNoCollWithdrawal              |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |        \_requireValidAdjustmentInCurrentMode        |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |               \_requireICRisAboveMCR                |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |               \_requireICRisAboveCCR                |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |            \_requireNewICRisAboveOldICR             |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |              \_requireNewTCRisAboveCCR              |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |             \_requireAtLeastMinNetDebt              |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |             \_requireValidSLSDRepayment             |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |           \_requireCallerIsStabilityPool            |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |           \_requireSufficientSLSDBalance            |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |           \_requireValidMaxFeePercentage            |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |          \_getNewNominalICRFromTroveChange          |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |             \_getNewICRFromTroveChange              |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                \_getNewTroveAmounts                 |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |             \_getNewTCRFromTroveChange              |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                  getCompositeDebt                   |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   getMethodValue                    |                                                Private üîê                                                 |                |                                                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|        **ActivePool**        |                   Implementation                    |                OwnableUpgradeable, ReentrancyGuardUpgradeable, CheckContract, IActivePool                 |                |                                                           |
|              ‚îî               |                    setAddresses                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                        initializer                        |
|              ‚îî               |                   getAssetBalance                   |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     getSLSDDebt                     |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      sendAsset                      |                                               External ‚ùóÔ∏è                                                |       üõë       |            nonReentrant callerIsBOorTroveMorSP            |
|              ‚îî               |               isERC20DepositContract                |                                                Private üîê                                                 |                |                                                           |
|              ‚îî               |                  increaseSLSDDebt                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                    callerIsBOorTroveM                     |
|              ‚îî               |                  decreaseSLSDDebt                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                  callerIsBOorTroveMorSP                   |
|              ‚îî               |                    receivedERC20                    |                                               External ‚ùóÔ∏è                                                |       üõë       |          callerIsBorrowerOperationOrDefaultPool           |
|              ‚îî               |                   <Receive Ether>                   |                                               External ‚ùóÔ∏è                                                |       üíµ       |          callerIsBorrowerOperationOrDefaultPool           |
|                              |                                                     |                                                                                                           |                |                                                           |
|     **MultiTroveGetter**     |                   Implementation                    |                                                                                                           |                |                                                           |
|              ‚îî               |                    <Constructor>                    |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |               getMultipleSortedTroves               |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |          \_getMultipleSortedTrovesFromHead          |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |          \_getMultipleSortedTrovesFromTail          |                                                Internal üîí                                                |                |                                                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|        **PriceFeed**         |                   Implementation                    |                          OwnableUpgradeable, CheckContract, BaseMath, IPriceFeed                          |                |                                                           |
|              ‚îî               |                    setAddresses                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                        initializer                        |
|              ‚îî               |                  setAdminContract                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                         onlyOwner                         |
|              ‚îî               |                      addOracle                      |                                               External ‚ùóÔ∏è                                                |       üõë       |                       isController                        |
|              ‚îî               |                     fetchPrice                      |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  \_getIndexedPrice                  |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |               \_getChainlinkResponses               |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                 \_chainlinkIsBroken                 |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |               \_badChainlinkResponse                |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                 \_chainlinkIsFrozen                 |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |           \_chainlinkPriceChangeAboveMax            |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |            \_scaleChainlinkPriceByDigits            |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                   \_changeStatus                    |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                \_storeChainlinkIndex                |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                \_storeChainlinkPrice                |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                    \_storePrice                     |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                    \_storeIndex                     |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |            \_getCurrentChainlinkResponse            |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |             \_getPrevChainlinkResponse              |                                                Internal üîí                                                |                |                                                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|       **TellorCaller**       |                   Implementation                    |                                               ITellorCaller                                               |                |                                                           |
|              ‚îî               |                    <Constructor>                    |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                getTellorCurrentValue                |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|      **SafetyTransfer**      |                       Library                       |                                                                                                           |                |                                                           |
|              ‚îî               |                 decimalsCorrection                  |                                                Internal üîí                                                |                |                                                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|         **ITellor**          |                      Interface                      |                                                                                                           |                |                                                           |
|              ‚îî               |                    beginDispute                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                        vote                         |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     tallyVotes                      |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     proposeFork                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       addTip                        |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                submitMiningSolution                 |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                submitMiningSolution                 |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  proposeOwnership                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   claimOwnership                    |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    depositStake                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |               requestStakingWithdraw                |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    withdrawStake                    |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       approve                       |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      transfer                       |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    transferFrom                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                        name                         |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       symbol                        |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      decimals                       |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |               getNewCurrentVariables                |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  getTopRequestIDs                   |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                getNewVariablesOnDeck                |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    updateTellor                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  unlockDisputeFee                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      allowance                      |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   allowedToTrade                    |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      balanceOf                      |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     balanceOfAt                     |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       didMine                       |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       didVote                       |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   getAddressVars                    |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  getAllDisputeVars                  |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 getCurrentVariables                 |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |              getDisputeIdByDisputeHash              |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 getDisputeUintVars                  |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   getLastNewValue                   |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 getLastNewValueById                 |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  getMinedBlockNum                   |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |          getMinersByRequestIdAndTimestamp           |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |             getNewValueCountbyRequestId             |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |             getRequestIdByRequestQIndex             |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |               getRequestIdByTimestamp               |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |               getRequestIdByQueryHash               |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     getRequestQ                     |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 getRequestUintVars                  |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   getRequestVars                    |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    getStakerInfo                    |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |              getSubmissionsByTimestamp              |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |           getTimestampbyRequestIDandIndex           |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     getUintVar                      |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 getVariablesOnDeck                  |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     isInDispute                     |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    retrieveData                     |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     totalSupply                     |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|         **IERC2612**         |                      Interface                      |                                                                                                           |                |                                                           |
|              ‚îî               |                       permit                        |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       nonces                        |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       version                       |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   permitTypeHash                    |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   domainSeparator                   |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|      **IERC2612Permit**      |                      Interface                      |                                                                                                           |                |                                                           |
|              ‚îî               |                       permit                        |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       nonces                        |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|       **ERC20Permit**        |                   Implementation                    |                                           ERC20, IERC2612Permit                                           |                |                                                           |
|              ‚îî               |                    <Constructor>                    |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       permit                        |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       nonces                        |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       chainId                       |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|      **ERC20Decimals**       |                      Interface                      |                                                                                                           |                |                                                           |
|              ‚îî               |                      decimals                       |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|    **PSYSafeMath128**     |                       Library                       |                                                                                                           |                |                                                           |
|              ‚îî               |                         add                         |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                         sub                         |                                                Internal üîí                                                |                |                                                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|        **PSYMath**        |                       Library                       |                                                                                                           |                |                                                           |
|              ‚îî               |                        \_min                        |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                        \_max                        |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                       decMul                        |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                      \_decPow                       |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |               \_getAbsoluteDifference               |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                 \_computeNominalCR                  |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                     \_computeCR                     |                                                Internal üîí                                                |                |                                                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|        **PSYBase**        |                   Implementation                    |                                 BaseMath, IPSYBase, OwnableUpgradeable                                 |                |                                                           |
|              ‚îî               |                 setPSYParameters                 |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                         onlyOwner                         |
|              ‚îî               |                 \_getCompositeDebt                  |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                    \_getNetDebt                     |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |              \_getCollGasCompensation               |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                 getEntireSystemColl                 |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 getEntireSystemDebt                 |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      \_getTCR                       |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                 \_checkRecoveryMode                 |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |               \_requireUserAcceptsFee               |                                                Internal üîí                                                |                |                                                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|      **CheckContract**       |                   Implementation                    |                                                                                                           |                |                                                           |
|              ‚îî               |                    checkContract                    |                                                Internal üîí                                                |                |                                                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|         **BaseMath**         |                   Implementation                    |                                                                                                           |                |                                                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|   **TroveManagerHelpers**    |                   Implementation                    |                              PSYBase, CheckContract, ITroveManagerHelpers                              |                |                                                           |
|              ‚îî               |                    \_onlyBOorTM                     |                                                Private üîê                                                 |                |                                                           |
|              ‚îî               |              \_onlyBorrowerOperations               |                                                Private üîê                                                 |                |                                                           |
|              ‚îî               |                 \_onlyTroveManager                  |                                                Private üîê                                                 |                |                                                           |
|              ‚îî               |                    setAddresses                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                        initializer                        |
|              ‚îî               |                    getNominalICR                    |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    getCurrentICR                    |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |              \_getCurrentTroveAmounts               |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                 applyPendingRewards                 |                                               External ‚ùóÔ∏è                                                |       üõë       |                  onlyBorrowerOperations                   |
|              ‚îî               |                 applyPendingRewards                 |                                               External ‚ùóÔ∏è                                                |       üõë       |                     onlyTroveManager                      |
|              ‚îî               |                \_applyPendingRewards                |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |             updateTroveRewardSnapshots              |                                               External ‚ùóÔ∏è                                                |       üõë       |                  onlyBorrowerOperations                   |
|              ‚îî               |            \_updateTroveRewardSnapshots             |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                getPendingAssetReward                |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |              getPendingSLSDDebtReward               |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  hasPendingRewards                  |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                getEntireDebtAndColl                 |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     removeStake                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                        onlyBOorTM                         |
|              ‚îî               |                  removeStakeTrove                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                     onlyTroveManager                      |
|              ‚îî               |                    \_removeStake                    |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |              updateStakeAndTotalStakes              |                                               External ‚ùóÔ∏è                                                |       üõë       |                  onlyBorrowerOperations                   |
|              ‚îî               |           updateStakeAndTotalStakesTrove            |                                               External ‚ùóÔ∏è                                                |       üõë       |                     onlyTroveManager                      |
|              ‚îî               |             \_updateStakeAndTotalStakes             |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                  \_computeNewStake                  |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |               redistributeDebtAndColl               |                                               External ‚ùóÔ∏è                                                |       üõë       |                     onlyTroveManager                      |
|              ‚îî               |              \_redistributeDebtAndColl              |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                     closeTrove                      |                                               External ‚ùóÔ∏è                                                |       üõë       |                  onlyBorrowerOperations                   |
|              ‚îî               |                     closeTrove                      |                                               External ‚ùóÔ∏è                                                |       üõë       |                     onlyTroveManager                      |
|              ‚îî               |                    \_closeTrove                     |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |     updateSystemSnapshots_excludeCollRemainder      |                                               External ‚ùóÔ∏è                                                |       üõë       |                     onlyTroveManager                      |
|              ‚îî               |    \_updateSystemSnapshots_excludeCollRemainder     |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                addTroveOwnerToArray                 |                                               External ‚ùóÔ∏è                                                |       üõë       |                  onlyBorrowerOperations                   |
|              ‚îî               |               \_addTroveOwnerToArray                |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                 \_removeTroveOwner                  |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                       getTCR                        |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  checkRecoveryMode                  |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |            \_checkPotentialRecoveryMode             |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |            updateBaseRateFromRedemption             |                                               External ‚ùóÔ∏è                                                |       üõë       |                     onlyTroveManager                      |
|              ‚îî               |           \_updateBaseRateFromRedemption            |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                  getRedemptionRate                  |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |             getRedemptionRateWithDecay              |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                \_calcRedemptionRate                 |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                 \_getRedemptionFee                  |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |              getRedemptionFeeWithDecay              |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 \_calcRedemptionFee                 |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                  getBorrowingRate                   |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |              getBorrowingRateWithDecay              |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 \_calcBorrowingRate                 |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                   getBorrowingFee                   |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |              getBorrowingFeeWithDecay               |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 \_calcBorrowingFee                  |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |             decayBaseRateFromBorrowing              |                                               External ‚ùóÔ∏è                                                |       üõë       |                  onlyBorrowerOperations                   |
|              ‚îî               |                \_updateLastFeeOpTime                |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                \_calcDecayedBaseRate                |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |            \_minutesPassedSinceLastFeeOp            |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |        \_requireSLSDBalanceCoversRedemption         |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |          \_requireMoreThanOneTroveInSystem          |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |           \_requireAmountGreaterThanZero            |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 \_requireTCRoverMCR                 |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |           \_requireValidMaxFeePercentage            |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    isTroveActive                    |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 getTroveOwnersCount                 |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |            getTroveFromTroveOwnersArray             |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      getTrove                       |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   getTroveStatus                    |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    getTroveStake                    |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    getTroveDebt                     |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    getTroveColl                     |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 setTroveDeptAndColl                 |                                               External ‚ùóÔ∏è                                                |       üõë       |                  onlyBorrowerOperations                   |
|              ‚îî               |                   setTroveStatus                    |                                               External ‚ùóÔ∏è                                                |       üõë       |                  onlyBorrowerOperations                   |
|              ‚îî               |                  decreaseTroveColl                  |                                               External ‚ùóÔ∏è                                                |       üõë       |                  onlyBorrowerOperations                   |
|              ‚îî               |                  increaseTroveDebt                  |                                               External ‚ùóÔ∏è                                                |       üõë       |                  onlyBorrowerOperations                   |
|              ‚îî               |                  decreaseTroveDebt                  |                                               External ‚ùóÔ∏è                                                |       üõë       |                  onlyBorrowerOperations                   |
|              ‚îî               |                  increaseTroveColl                  |                                               External ‚ùóÔ∏è                                                |       üõë       |                  onlyBorrowerOperations                   |
|              ‚îî               |         movePendingTroveRewardsToActivePool         |                                               External ‚ùóÔ∏è                                                |       üõë       |                     onlyTroveManager                      |
|              ‚îî               |        \_movePendingTroveRewardsToActivePool        |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                 getRewardSnapshots                  |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|       **TroveManager**       |                   Implementation                    |                                 PSYBase, CheckContract, ITroveManager                                  |                |                                                           |
|              ‚îî               |                    setAddresses                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                        initializer                        |
|              ‚îî               |                      liquidate                      |                                               External ‚ùóÔ∏è                                                |       üõë       |                       troveIsActive                       |
|              ‚îî               |                \_liquidateNormalMode                |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |               \_liquidateRecoveryMode               |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |          \_getOffsetAndRedistributionVals           |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                \_getCappedOffsetVals                |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                   liquidateTroves                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               | \_getTotalsFromLiquidateTrovesSequence_RecoveryMode |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |  \_getTotalsFromLiquidateTrovesSequence_NormalMode  |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                batchLiquidateTroves                 |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |      \_getTotalFromBatchLiquidate_RecoveryMode      |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |      \_getTotalsFromBatchLiquidate_NormalMode       |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |           \_addLiquidationValuesToTotals            |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                \_sendGasCompensation                |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |             \_redeemCollateralFromTrove             |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                 \_redeemCloseTrove                  |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |            \_isValidFirstRedemptionHint             |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |            setRedemptionWhitelistStatus             |                                               External ‚ùóÔ∏è                                                |       üõë       |                         onlyOwner                         |
|              ‚îî               |            addUserToWhitelistRedemption             |                                               External ‚ùóÔ∏è                                                |       üõë       |                         onlyOwner                         |
|              ‚îî               |          removeUserFromWhitelistRedemption          |                                               External ‚ùóÔ∏è                                                |       üõë       |                         onlyOwner                         |
|              ‚îî               |                  redeemCollateral                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|   **StabilityPoolManager**   |                   Implementation                    |                         OwnableUpgradeable, CheckContract, IStabilityPoolManager                          |                |                                                           |
|              ‚îî               |                    setAddresses                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                        initializer                        |
|              ‚îî               |                  setAdminContract                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                         onlyOwner                         |
|              ‚îî               |                   isStabilityPool                   |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  addStabilityPool                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                       isController                        |
|              ‚îî               |                 removeStabilityPool                 |                                               External ‚ùóÔ∏è                                                |       üõë       |                       isController                        |
|              ‚îî               |                getAssetStabilityPool                |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |             unsafeGetAssetStabilityPool             |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|      **StabilityPool**       |                   Implementation                    |                                 PSYBase, CheckContract, IStabilityPool                                 |                |                                                           |
|              ‚îî               |                    getNameBytes                     |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    getAssetType                     |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    setAddresses                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                        initializer                        |
|              ‚îî               |                   getAssetBalance                   |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                getTotalSLSDDeposits                 |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     provideToSP                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   withdrawFromSP                    |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |              withdrawAssetGainToTrove               |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                \_triggerPSYIssuance                 |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                      \_updateG                      |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |              \_computePSYPerUnitStaked              |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                       offset                        |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |            \_computeRewardsPerUnitStaked            |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |             \_updateRewardSumAndProduct             |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |               \_moveOffsetCollAndDebt               |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                   \_decreaseSLSD                    |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                getDepositorAssetGain                |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |              getDepositorAssetGain1e18              |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |             \_getAssetGainFromSnapshots             |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                 getDepositorPSYGain                 |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |              \_getPSYGainFromSnapshots              |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |              getCompoundedSLSDDeposit               |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |               getCompoundedTotalStake               |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |          \_getCompoundedStakeFromSnapshots          |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |              \_sendSLSDtoStabilityPool              |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |             \_sendAssetGainToDepositor              |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                \_sendSLSDToDepositor                |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |             \_updateDepositAndSnapshots             |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |              \_updateStakeAndSnapshots              |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                  \_payOutPSYGains                   |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |             \_requireCallerIsActivePool             |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |            \_requireCallerIsTroveManager            |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |        \_requireNoUnderCollateralizedTroves         |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |               \_requireUserHasDeposit               |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |              \_requireUserHasNoDeposit              |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |               \_requireNonZeroAmount                |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                \_requireUserHasTrove                |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |               \_requireUserHasETHGain               |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                    receivedERC20                    |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   <Receive Ether>                   |                                               External ‚ùóÔ∏è                                                |       üíµ       |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|       **SortedTroves**       |                   Implementation                    |                             OwnableUpgradeable, CheckContract, ISortedTroves                              |                |                                                           |
|              ‚îî               |                      setParams                      |                                               External ‚ùóÔ∏è                                                |       üõë       |                        initializer                        |
|              ‚îî               |                       insert                        |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      \_insert                       |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                       remove                        |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      \_remove                       |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                      reInsert                       |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      contains                       |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       isFull                        |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       isEmpty                       |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       getSize                       |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     getMaxSize                      |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      getFirst                       |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       getLast                       |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       getNext                       |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       getPrev                       |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 validInsertPosition                 |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                \_validInsertPosition                |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                    \_descendList                    |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                    \_ascendList                     |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                 findInsertPosition                  |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                \_findInsertPosition                 |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |            \_requireCallerIsTroveManager            |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |             \_requireCallerIsBOorTroveM             |                                                Internal üîí                                                |                |                                                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|       **PriceFeedOld**       |                   Implementation                    |                          OwnableUpgradeable, CheckContract, BaseMath, IPriceFeed                          |                |                                                           |
|              ‚îî               |                    setAddresses                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                        initializer                        |
|              ‚îî               |                  setAdminContract                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                         onlyOwner                         |
|              ‚îî               |                      addOracle                      |                                               External ‚ùóÔ∏è                                                |       üõë       |                       isController                        |
|              ‚îî               |                     fetchPrice                      |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  \_getIndexedPrice                  |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |               \_getChainlinkResponses               |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                 \_chainlinkIsBroken                 |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |               \_badChainlinkResponse                |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                 \_chainlinkIsFrozen                 |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |           \_chainlinkPriceChangeAboveMax            |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |            \_scaleChainlinkPriceByDigits            |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                   \_changeStatus                    |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                \_storeChainlinkIndex                |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                \_storeChainlinkPrice                |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                    \_storePrice                     |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                    \_storeIndex                     |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |            \_getCurrentChainlinkResponse            |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |             \_getPrevChainlinkResponse              |                                                Internal üîí                                                |                |                                                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|    **TroveManagerScript**    |                   Implementation                    |                                               CheckContract                                               |                |                                                           |
|              ‚îî               |                    <Constructor>                    |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  redeemCollateral                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|       **TokenScript**        |                   Implementation                    |                                               CheckContract                                               |                |                                                           |
|              ‚îî               |                    <Constructor>                    |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      transfer                       |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      allowance                      |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       approve                       |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    transferFrom                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  increaseAllowance                  |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  decreaseAllowance                  |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|   **StabilityPoolScript**    |                   Implementation                    |                                               CheckContract                                               |                |                                                           |
|              ‚îî               |                    <Constructor>                    |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     provideToSP                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   withdrawFromSP                    |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |              withdrawAssetGainToTrove               |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|    **ETHTransferScript**     |                   Implementation                    |                                                                                                           |                |                                                           |
|              ‚îî               |                     transferETH                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|     **PSYStakingScript**     |                   Implementation                    |                                               CheckContract                                               |                |                                                           |
|              ‚îî               |                    <Constructor>                    |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                        stake                        |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|  **BorrowerWrappersScript**  |                   Implementation                    |                       BorrowerOperationsScript, ETHTransferScript, PSYStakingScript                       |                |                                                           |
|              ‚îî               |                    <Constructor>                    |                                                Public ‚ùóÔ∏è                                                 |       üõë       |         BorrowerOperationsScript PSYStakingScript         |
|              ‚îî               |             claimCollateralAndOpenTrove             |                                               External ‚ùóÔ∏è                                                |       üíµ       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |              claimSPRewardsAndRecycle               |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |             claimStakingGainsAndRecycle             |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 \_getNetSLSDAmount                  |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                \_requireUserHasTrove                |                                                Internal üîí                                                |                |                                                           |
|                              |                                                     |                                                                                                           |                |                                                           |
| **BorrowerOperationsScript** |                   Implementation                    |                                               CheckContract                                               |                |                                                           |
|              ‚îî               |                    <Constructor>                    |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      openTrove                      |                                               External ‚ùóÔ∏è                                                |       üíµ       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       addColl                       |                                               External ‚ùóÔ∏è                                                |       üíµ       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    withdrawColl                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    withdrawSLSD                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      repaySLSD                      |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     closeTrove                      |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     adjustTrove                     |                                               External ‚ùóÔ∏è                                                |       üíµ       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   claimCollateral                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    getValueOrArg                    |                                                Private üîê                                                 |       üõë       |                                                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|       **HintHelpers**        |                   Implementation                    |                                         PSYBase, CheckContract                                         |                |                                                           |
|              ‚îî               |                    setAddresses                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                        initializer                        |
|              ‚îî               |                 getRedemptionHints                  |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    getApproxHint                    |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  computeNominalCR                   |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      computeCR                      |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|         **PSYToken**         |                   Implementation                    |                                        CheckContract, ERC20Permit                                         |                |                                                           |
|              ‚îî               |                    <Constructor>                    |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                           ERC20                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|        **PSYStaking**        |                   Implementation                    | IPSYStaking, PausableUpgradeable, OwnableUpgradeable, CheckContract, BaseMath, ReentrancyGuardUpgradeable |                |                                                           |
|              ‚îî               |                    setAddresses                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                        initializer                        |
|              ‚îî               |                        stake                        |                                               External ‚ùóÔ∏è                                                |       üõë       |                nonReentrant whenNotPaused                 |
|              ‚îî               |                       unstake                       |                                               External ‚ùóÔ∏è                                                |       üõë       |                       nonReentrant                        |
|              ‚îî               |                        pause                        |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                         onlyOwner                         |
|              ‚îî               |                       unpause                       |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                         onlyOwner                         |
|              ‚îî               |                changeTreasuryAddress                |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                         onlyOwner                         |
|              ‚îî               |                   increaseF_Asset                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                   callerIsTroveManager                    |
|              ‚îî               |                   increaseF_SLSD                    |                                               External ‚ùóÔ∏è                                                |       üõë       |                callerIsBorrowerOperations                 |
|              ‚îî               |                   sendToTreasury                    |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                 getPendingAssetGain                 |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                \_getPendingAssetGain                |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                 getPendingSLSDGain                  |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                \_getPendingSLSDGain                 |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                \_updateUserSnapshots                |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                \_sendAssetGainToUser                |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                     \_sendAsset                     |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                \_requireUserHasStake                |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                   <Receive Ether>                   |                                               External ‚ùóÔ∏è                                                |       üíµ       |                    callerIsActivePool                     |
|                              |                                                     |                                                                                                           |                |                                                           |
|        **LockedPSY**         |                   Implementation                    |                                          Ownable, CheckContract                                           |                |                                                           |
|              ‚îî               |                    setAddresses                     |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                         onlyOwner                         |
|              ‚îî               |                  addEntityVesting                   |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                         onlyOwner                         |
|              ‚îî               |                 lowerEntityVesting                  |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                onlyOwner entityRuleExists                 |
|              ‚îî               |                 removeEntityVesting                 |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                onlyOwner entityRuleExists                 |
|              ‚îî               |                    claimPSYToken                    |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                     entityRuleExists                      |
|              ‚îî               |                sendPSYTokenToEntity                 |                                                Private üîê                                                 |       üõë       |                                                           |
|              ‚îî               |                transferUnassignedPSY                |                                               External ‚ùóÔ∏è                                                |       üõë       |                         onlyOwner                         |
|              ‚îî               |                   getClaimablePSY                   |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |             getUnassignPSYTokensAmount              |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    isEntityExits                    |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|    **CommunityIssuance**     |                   Implementation                    |                      ICommunityIssuance, OwnableUpgradeable, CheckContract, BaseMath                      |                |                                                           |
|              ‚îî               |                    setAddresses                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                        initializer                        |
|              ‚îî               |                  setAdminContract                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                         onlyOwner                         |
|              ‚îî               |               addFundToStabilityPool                |                                               External ‚ùóÔ∏è                                                |       üõë       |                       isController                        |
|              ‚îî               |             removeFundFromStabilityPool             |                                               External ‚ùóÔ∏è                                                |       üõë       |             onlyOwner activeStabilityPoolOnly             |
|              ‚îî               |             addFundToStabilityPoolFrom              |                                               External ‚ùóÔ∏è                                                |       üõë       |                       isController                        |
|              ‚îî               |            \_addFundToStabilityPoolFrom             |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |         transferFundToAnotherStabilityPool          |                                               External ‚ùóÔ∏è                                                |       üõë       | onlyOwner activeStabilityPoolOnly activeStabilityPoolOnly |
|              ‚îî               |                disableStabilityPool                 |                                                Internal üîí                                                |       üõë       |                                                           |
|              ‚îî               |                      issuePSY                       |                                               External ‚ùóÔ∏è                                                |       üõë       |                     onlyStabilityPool                     |
|              ‚îî               |                     \_issuePSY                      |                                                Internal üîí                                                |       üõë       |                      isStabilityPool                      |
|              ‚îî               |          \_getLastUpdateTokenDistribution           |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |                       sendPSY                       |                                               External ‚ùóÔ∏è                                                |       üõë       |                     onlyStabilityPool                     |
|              ‚îî               |             setWeeklyPSYDistribution             |                                               External ‚ùóÔ∏è                                                |       üõë       |               isController isStabilityPool                |
|                              |                                                     |                                                                                                           |                |                                                           |
|     **SLSDTokenTester**      |                   Implementation                    |                                                 SLSDToken                                                 |                |                                                           |
|              ‚îî               |                    <Constructor>                    |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                         SLSDToken                         |
|              ‚îî               |                   unprotectedMint                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   unprotectedBurn                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                unprotectedSendToPool                |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |              unprotectedReturnFromPool              |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 callInternalApprove                 |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     getChainId                      |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      getDigest                      |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   recoverAddress                    |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|     **SLSDTokenCaller**      |                   Implementation                    |                                                                                                           |                |                                                           |
|              ‚îî               |                       setSLSD                       |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      SLSDMint                       |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      SLSDBurn                       |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   SLSDSendToPool                    |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 SLSDReturnFromPool                  |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|      **PSYTokenTester**      |                   Implementation                    |                                                 PSYToken                                                  |                |                                                           |
|              ‚îî               |                    <Constructor>                    |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                         PSYToken                          |
|              ‚îî               |                   unprotectedMint                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |               unprotectedTransferFrom               |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 callInternalApprove                 |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                callInternalTransfer                 |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     getChainId                      |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|     **PSYStakingTester**     |                   Implementation                    |                                                PSYStaking                                                 |                |                                                           |
|              ‚îî               |             requireCallerIsTroveManager             |                                               External ‚ùóÔ∏è                                                |                |                   callerIsTroveManager                    |
|                              |                                                     |                                                                                                           |                |                                                           |
|     **PSYMathTester**     |                   Implementation                    |                                                                                                           |                |                                                           |
|              ‚îî               |                       callMax                       |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    callDecPowTx                     |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     callDecPow                      |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|   **StabilityPoolTester**    |                   Implementation                    |                                               StabilityPool                                               |                |                                                           |
|              ‚îî               |                 unprotectedPayable                  |                                               External ‚ùóÔ∏è                                                |       üíµ       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   setCurrentScale                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  setTotalDeposits                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|    **SortedTrovesTester**    |                   Implementation                    |                                                                                                           |                |                                                           |
|              ‚îî               |                   setSortedTroves                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       insert                        |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       remove                        |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      reInsert                       |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    getNominalICR                    |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    getCurrentICR                    |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|     **PriceFeedTestnet**     |                   Implementation                    |                                                IPriceFeed                                                 |                |                                                           |
|              ‚îî               |                      getPrice                       |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      getIndex                       |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      addOracle                      |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     fetchPrice                      |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      setPrice                       |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      setIndex                       |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|     **PriceFeedTester**      |                   Implementation                    |                                                 PriceFeed                                                 |                |                                                           |
|              ‚îî               |                  setLastGoodPrice                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      setStatus                      |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|        **NonPayable**        |                   Implementation                    |                                                                                                           |                |                                                           |
|              ‚îî               |                     setPayable                      |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       forward                       |                                               External ‚ùóÔ∏è                                                |       üíµ       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   <Receive Ether>                   |                                               External ‚ùóÔ∏è                                                |       üíµ       |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|        **MockTellor**        |                   Implementation                    |                                                                                                           |                |                                                           |
|              ‚îî               |                      setPrice                       |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   setDidRetrieve                    |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    setUpdateTime                    |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  setRevertRequest                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |           getTimestampbyRequestIDandIndex           |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |             getNewValueCountbyRequestId             |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    retrieveData                     |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|      **MockAggregator**      |                   Implementation                    |                                           AggregatorV3Interface                                           |                |                                                           |
|              ‚îî               |                     setDecimals                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      setPrice                       |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    setPrevPrice                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  setPrevUpdateTime                  |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    setUpdateTime                    |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   setLatestRevert                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    setPrevRevert                    |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  setDecimalsRevert                  |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  setLatestRoundId                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   setPrevRoundId                    |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      decimals                       |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   latestRoundData                   |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    getRoundData                     |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     description                     |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       version                       |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
| **PSYSafeMath128Tester**  |                   Implementation                    |                                                                                                           |                |                                                           |
|              ‚îî               |                         add                         |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                         sub                         |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|      **FunctionCaller**      |                   Implementation                    |                                                                                                           |                |                                                           |
|              ‚îî               |               setTroveManagerAddress                |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |            setTroveManagerHelpersAddress            |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |               setSortedTrovesAddress                |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 setPriceFeedAddress                 |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |             troveManager_getCurrentICR              |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |           sortedTroves_findInsertPosition           |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|   **ITroveManagerHelpers**   |                      Interface                      |                                                IPSYBase                                                |                |                                                           |
|              ‚îî               |                addTroveOwnerToArray                 |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 applyPendingRewards                 |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  checkRecoveryMode                  |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     closeTrove                      |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |             decayBaseRateFromBorrowing              |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  decreaseTroveColl                  |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  decreaseTroveDebt                  |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   getBorrowingFee                   |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |              getBorrowingRateWithDecay              |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  getBorrowingRate                   |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    getCurrentICR                    |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                getEntireDebtAndColl                 |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    getNominalICR                    |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                getPendingAssetReward                |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |              getPendingSLSDDebtReward               |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |              getRedemptionFeeWithDecay              |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  getRedemptionRate                  |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |             getRedemptionRateWithDecay              |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       getTCR                        |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    getTroveColl                     |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    getTroveDebt                     |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    getTroveStake                    |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   getTroveStatus                    |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  hasPendingRewards                  |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  increaseTroveColl                  |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  increaseTroveDebt                  |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  removeStakeTrove                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   setTroveStatus                    |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |           updateStakeAndTotalStakesTrove            |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |             updateTroveRewardSnapshots              |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |              getBorrowingFeeWithDecay               |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 getTroveOwnersCount                 |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |            getTroveFromTroveOwnersArray             |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 setTroveDeptAndColl                 |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    isTroveActive                    |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |         movePendingTroveRewardsToActivePool         |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     removeStake                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     closeTrove                      |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |               redistributeDebtAndColl               |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |     updateSystemSnapshots_excludeCollRemainder      |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |            \_checkPotentialRecoveryMode             |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |            updateBaseRateFromRedemption             |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |              updateStakeAndTotalStakes              |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |           \_requireValidMaxFeePercentage            |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 \_requireTCRoverMCR                 |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |           \_requireAmountGreaterThanZero            |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |        \_requireSLSDBalanceCoversRedemption         |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 applyPendingRewards                 |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 \_getRedemptionFee                  |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      getTrove                       |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 getRewardSnapshots                  |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|      **ITroveManager**       |                      Interface                      |                                                IPSYBase                                                |                |                                                           |
|              ‚îî               |                 troveManagerHelpers                 |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    setAddresses                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                stabilityPoolManager                 |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      slsdToken                      |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     psyStaking                      |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      liquidate                      |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   liquidateTroves                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                batchLiquidateTroves                 |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  redeemCollateral                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|      **ITellorCaller**       |                      Interface                      |                                                                                                           |                |                                                           |
|              ‚îî               |                getTellorCurrentValue                |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|  **IStabilityPoolManager**   |                      Interface                      |                                                                                                           |                |                                                           |
|              ‚îî               |                   isStabilityPool                   |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  addStabilityPool                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                getAssetStabilityPool                |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |             unsafeGetAssetStabilityPool             |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|      **IStabilityPool**      |                      Interface                      |                                                 IDeposit                                                  |                |                                                           |
|              ‚îî               |                        NAME                         |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    setAddresses                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     provideToSP                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   withdrawFromSP                    |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |              withdrawAssetGainToTrove               |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       offset                        |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   getAssetBalance                   |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                getTotalSLSDDeposits                 |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                getDepositorAssetGain                |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 getDepositorPSYGain                 |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |              getCompoundedSLSDDeposit               |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |               getCompoundedTotalStake               |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    getNameBytes                     |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    getAssetType                     |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|      **ISortedTroves**       |                      Interface                      |                                                                                                           |                |                                                           |
|              ‚îî               |                      setParams                      |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       insert                        |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       remove                        |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      reInsert                       |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      contains                       |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       isFull                        |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       isEmpty                       |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       getSize                       |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     getMaxSize                      |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      getFirst                       |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       getLast                       |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       getNext                       |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       getPrev                       |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 validInsertPosition                 |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 findInsertPosition                  |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|        **IPriceFeed**        |                      Interface                      |                                                                                                           |                |                                                           |
|              ‚îî               |                      addOracle                      |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     fetchPrice                      |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|          **IPool**           |                      Interface                      |                                                 IDeposit                                                  |                |                                                           |
|              ‚îî               |                   getAssetBalance                   |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     getSLSDDebt                     |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  increaseSLSDDebt                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  decreaseSLSDDebt                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|       **IPSYStaking**        |                      Interface                      |                                                                                                           |                |                                                           |
|              ‚îî               |                      psyToken                       |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    setAddresses                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                        stake                        |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       unstake                       |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   increaseF_Asset                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   increaseF_SLSD                    |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 getPendingAssetGain                 |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 getPendingSLSDGain                  |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|      **IERC20Deposit**       |                      Interface                      |                                                  IERC20                                                   |                |                                                           |
|              ‚îî               |                       deposit                       |                                               External ‚ùóÔ∏è                                                |       üíµ       |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|    **IPSYParameters**     |                      Interface                      |                                                                                                           |                |                                                           |
|              ‚îî               |                  DECIMAL_PRECISION                  |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      \_100pct                       |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                         MCR                         |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                         CCR                         |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                SLSD_GAS_COMPENSATION                |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    MIN_NET_DEBT                     |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   PERCENT_DIVISOR                   |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 BORROWING_FEE_FLOOR                 |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                REDEMPTION_FEE_FLOOR                 |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  MAX_BORROWING_FEE                  |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   redemptionBlock                   |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     activePool                      |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     defaultPool                     |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      priceFeed                      |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    setAddresses                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    setPriceFeed                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       setMCR                        |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       setCCR                        |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 sanitizeParameters                  |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    setAsDefault                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |            setAsDefaultWithRemptionBlock            |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |               setSLSDGasCompensation                |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    setMinNetDebt                    |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  setPercentDivisor                  |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                setBorrowingFeeFloor                 |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 setMaxBorrowingFee                  |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                setRedemptionFeeFloor                |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                removeRedemptionBlock                |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|       **IPSYBase**        |                      Interface                      |                                                                                                           |                |                                                           |
|              ‚îî               |                    dfrancParams                     |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|        **ERC20Test**         |                   Implementation                    |                                                ERC20Permit                                                |                |                                                           |
|              ‚îî               |                    <Constructor>                    |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                           ERC20                           |
|              ‚îî               |                        mint                         |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    transferFrom                     |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      decimals                       |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     setDecimals                     |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|        **ERC20Mock**         |                   Implementation                    |                                                   ERC20                                                   |                |                                                           |
|              ‚îî               |                    <Constructor>                    |                                                Public ‚ùóÔ∏è                                                 |       üíµ       |                           ERC20                           |
|              ‚îî               |                        mint                         |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                        burn                         |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  transferInternal                   |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   approveInternal                   |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      decimals                       |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|       **Destructible**       |                   Implementation                    |                                                                                                           |                |                                                           |
|              ‚îî               |                   <Receive Ether>                   |                                               External ‚ùóÔ∏è                                                |       üíµ       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      destruct                       |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|    **DefaultPoolTester**     |                   Implementation                    |                                                DefaultPool                                                |                |                                                           |
|              ‚îî               |             unprotectedIncreaseSLSDDebt             |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 unprotectedPayable                  |                                               External ‚ùóÔ∏è                                                |       üíµ       |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|       **DSAuthority**        |                   Implementation                    |                                                                                                           |                |                                                           |
|              ‚îî               |                       canCall                       |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|       **DSAuthEvents**       |                   Implementation                    |                                                                                                           |                |                                                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|          **DSAuth**          |                   Implementation                    |                                               DSAuthEvents                                                |                |                                                           |
|              ‚îî               |                    <Constructor>                    |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      setOwner                       |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                           auth                            |
|              ‚îî               |                    setAuthority                     |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                           auth                            |
|              ‚îî               |                    isAuthorized                     |                                                Internal üîí                                                |                |                                                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|          **DSNote**          |                   Implementation                    |                                                                                                           |                |                                                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|         **DSProxy**          |                   Implementation                    |                                              DSAuth, DSNote                                               |                |                                                           |
|              ‚îî               |                    <Constructor>                    |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   <Receive Ether>                   |                                               External ‚ùóÔ∏è                                                |       üíµ       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       execute                       |                                                Public ‚ùóÔ∏è                                                 |       üíµ       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       execute                       |                                                Public ‚ùóÔ∏è                                                 |       üíµ       |                         auth note                         |
|              ‚îî               |                      setCache                       |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                           auth                            |
|                              |                                                     |                                                                                                           |                |                                                           |
|      **DSProxyFactory**      |                   Implementation                    |                                                                                                           |                |                                                           |
|              ‚îî               |                        build                        |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                        build                        |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|       **DSProxyCache**       |                   Implementation                    |                                                                                                           |                |                                                           |
|              ‚îî               |                        read                         |                                                Public ‚ùóÔ∏è                                                 |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                        write                        |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|         **IDeposit**         |                      Interface                      |                                                                                                           |                |                                                           |
|              ‚îî               |                    receivedERC20                    |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
| **CommunityIssuanceTester**  |                   Implementation                    |                                             CommunityIssuance                                             |                |                                                           |
|              ‚îî               |                      obtainPSY                      |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |           getLastUpdateTokenDistribution            |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 unprotectedIssuePSY                 |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|       **IDefaultPool**       |                      Interface                      |                                                   IPool                                                   |                |                                                           |
|              ‚îî               |                sendAssetToActivePool                |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|    **ChainlinkFlagMock**     |                   Implementation                    |                                              FlagsInterface                                               |                |                                                           |
|              ‚îî               |                       getFlag                       |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       setFlag                       |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      getFlags                       |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      raiseFlag                      |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     raiseFlags                      |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     lowerFlags                      |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |             setRaisingAccessController              |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|        **ISLSDToken**        |                   Implementation                    |                                                ERC20Permit                                                |                |                                                           |
|              ‚îî               |                emergencyStopMinting                 |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                        mint                         |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                        burn                         |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     sendToPool                      |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   returnFromPool                    |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|    **ICommunityIssuance**    |                      Interface                      |                                                                                                           |                |                                                           |
|              ‚îî               |                    setAddresses                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      issuePSY                       |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       sendPSY                       |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |               addFundToStabilityPool                |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |             addFundToStabilityPoolFrom              |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |         transferFundToAnotherStabilityPool          |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |             setWeeklyPSYDistribution             |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|     **ICollSurplusPool**     |                      Interface                      |                                                 IDeposit                                                  |                |                                                           |
|              ‚îî               |                    setAddresses                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   getAssetBalance                   |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    getCollateral                    |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   accountSurplus                    |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      claimColl                      |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
| **BorrowerOperationsTester** |                   Implementation                    |                                            BorrowerOperations                                             |                |                                                           |
|              ‚îî               |              getNewICRFromTroveChange               |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |              getNewTCRFromTroveChange               |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     getUSDValue                     |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |               callInternalAdjustLoan                |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   <Receive Ether>                   |                                               External ‚ùóÔ∏è                                                |       üíµ       |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|   **IBorrowerOperations**    |                      Interface                      |                                                                                                           |                |                                                           |
|              ‚îî               |                    setAddresses                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      openTrove                      |                                               External ‚ùóÔ∏è                                                |       üíµ       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                       addColl                       |                                               External ‚ùóÔ∏è                                                |       üíµ       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 moveETHGainToTrove                  |                                               External ‚ùóÔ∏è                                                |       üíµ       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    withdrawColl                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    withdrawSLSD                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      repaySLSD                      |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     closeTrove                      |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     adjustTrove                     |                                               External ‚ùóÔ∏è                                                |       üíµ       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   claimCollateral                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                  getCompositeDebt                   |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|     **ActivePoolTester**     |                   Implementation                    |                                                ActivePool                                                 |                |                                                           |
|              ‚îî               |             unprotectedIncreaseSLSDDebt             |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                 unprotectedPayable                  |                                               External ‚ùóÔ∏è                                                |       üíµ       |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|       **IActivePool**        |                      Interface                      |                                                   IPool                                                   |                |                                                           |
|              ‚îî               |                      sendAsset                      |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|         **GasPool**          |                   Implementation                    |                                                                                                           |                |                                                           |
|                              |                                                     |                                                                                                           |                |                                                           |
|     **PSYParameters**     |                   Implementation                    |                           IPSYParameters, OwnableUpgradeable, CheckContract                            |                |                                                           |
|              ‚îî               |                    setAddresses                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                        initializer                        |
|              ‚îî               |                  setAdminContract                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                         onlyOwner                         |
|              ‚îî               |                    setPriceFeed                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                         onlyOwner                         |
|              ‚îî               |                 sanitizeParameters                  |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    setAsDefault                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                         onlyOwner                         |
|              ‚îî               |            setAsDefaultWithRemptionBlock            |                                               External ‚ùóÔ∏è                                                |       üõë       |                       isController                        |
|              ‚îî               |                   \_setAsDefault                    |                                                Private üîê                                                 |       üõë       |                                                           |
|              ‚îî               |               setCollateralParameters               |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                         onlyOwner                         |
|              ‚îî               |                       setMCR                        |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                    onlyOwner safeCheck                    |
|              ‚îî               |                       setCCR                        |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                    onlyOwner safeCheck                    |
|              ‚îî               |                  setPercentDivisor                  |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                    onlyOwner safeCheck                    |
|              ‚îî               |                setBorrowingFeeFloor                 |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                    onlyOwner safeCheck                    |
|              ‚îî               |                 setMaxBorrowingFee                  |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                    onlyOwner safeCheck                    |
|              ‚îî               |               setSLSDGasCompensation                |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                    onlyOwner safeCheck                    |
|              ‚îî               |                    setMinNetDebt                    |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                    onlyOwner safeCheck                    |
|              ‚îî               |                setRedemptionFeeFloor                |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                    onlyOwner safeCheck                    |
|              ‚îî               |                removeRedemptionBlock                |                                               External ‚ùóÔ∏è                                                |       üõë       |                         onlyOwner                         |
|                              |                                                     |                                                                                                           |                |                                                           |
|       **DefaultPool**        |                   Implementation                    |                              OwnableUpgradeable, CheckContract, IDefaultPool                              |                |                                                           |
|              ‚îî               |                    setAddresses                     |                                               External ‚ùóÔ∏è                                                |       üõë       |                        initializer                        |
|              ‚îî               |                   getAssetBalance                   |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     getSLSDDebt                     |                                               External ‚ùóÔ∏è                                                |                |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                sendAssetToActivePool                |                                               External ‚ùóÔ∏è                                                |       üõë       |                   callerIsTroveManager                    |
|              ‚îî               |                  increaseSLSDDebt                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                   callerIsTroveManager                    |
|              ‚îî               |                  decreaseSLSDDebt                   |                                               External ‚ùóÔ∏è                                                |       üõë       |                   callerIsTroveManager                    |
|              ‚îî               |                    receivedERC20                    |                                               External ‚ùóÔ∏è                                                |       üõë       |                    callerIsActivePool                     |
|              ‚îî               |                   <Receive Ether>                   |                                               External ‚ùóÔ∏è                                                |       üíµ       |                    callerIsActivePool                     |
|                              |                                                     |                                                                                                           |                |                                                           |
|        **SLSDToken**         |                   Implementation                    |                                    CheckContract, ISLSDToken, Ownable                                     |                |                                                           |
|              ‚îî               |                    <Constructor>                    |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                           ERC20                           |
|              ‚îî               |                emergencyStopMinting                 |                                               External ‚ùóÔ∏è                                                |       üõë       |                         onlyOwner                         |
|              ‚îî               |                        mint                         |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                        burn                         |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                     sendToPool                      |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                   returnFromPool                    |                                               External ‚ùóÔ∏è                                                |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                      transfer                       |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |                    transferFrom                     |                                                Public ‚ùóÔ∏è                                                 |       üõë       |                           NO‚ùóÔ∏è                           |
|              ‚îî               |               \_requireValidRecipient               |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |         \_requireCallerIsBorrowerOperations         |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |           \_requireCallerIsBOorTroveMorSP           |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |           \_requireCallerIsStabilityPool            |                                                Internal üîí                                                |                |                                                           |
|              ‚îî               |             \_requireCallerIsTroveMorSP             |                                                Internal üîí                                                |                |                                                           |

Legend

| Symbol | Meaning                   |
| :----: | ------------------------- |
|   üõë   | Function can modify state |
|   üíµ   | Function is payable       |
